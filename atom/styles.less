/*
 * Your Stylesheet
 *
 * This stylesheet is loaded when Atom starts up and is reloaded automatically
 * when it is changed.
 *
 * If you are unfamiliar with LESS, you can read more about it here:
 * http://www.lesscss.org
 */
@import "syntax-variables";
@import "ui-variables";
.tree-view {

}

// style the background and foreground colors on the atom-text-editor-element
// itself
atom-text-editor {

}

atom-workspace {
  // display: initial;

  // -webkit-font-smoothing: antialiased;
  // -webkit-font-smoothing: subpixel-antialiased;
  // -webkit-font-smoothing: optimizeLegibility;
  // text-rendering: optimizeLegibility;
  // text-rendering: geometricPrecision;
  // -webkit-text-stroke-width: 0.1pt;
}
atom-text-editor {
  &.editor {
    -webkit-text-stroke-width: initial;
  }
  -webkit-text-stroke-width: initial;
}
.tree-view-resizer {
  display: flex;
  flex-direction: column;
}

// To style other content in the text editor's shadow DOM, use the ::shadow
// expression
atom-text-editor.editor .cursor {

}

atom-workspace.theme-quantum-ui {
  font-family: "DejaVu Sans", "Source Sans Pro", sans-serif;
  // font-family: "oxygen-sans", "Source Sans Pro", sans-serif;
}

.theme-quantum-ui {
  .tab-bar .tab {
    font-size: 13px;
    font-family: "Cantarell", "DejaVu Sans", sans-serif;
    font-weight: 600;
  }
  .tree-view {
    font-size: 12px;
    .project-root-header {
      font-size: 13px;
      font-family: "Cantarell", "DejaVu Sans", sans-serif;
    }
  }
}
// focus mode
// atom-text-editor.editor {
//   max-width: 92ex;
//   margin: auto;
// }
// .item-views {
//   background-image: linear-gradient(to right, rgb(42, 42, 42), rgb(42, 42, 42) 50%, #212121 50%, #212121)
// }

.theme-today {
  .syntax--meta {
    &.syntax--class {
      color: inherit;
    }
  }
  .meta {
    &.class {
      color: inherit;
    }
  }
  atom-text-editor.editor {
    .entity.name.type {
      text-decoration: none;
      font-style: italic;
    }
    .punctuation.section.embedded {
      color: @orange;
    }
  }
  // @current-line-highlight: fade(tint(@syntax-background-color, 50%), 10%);
  @current-line-highlight: fade(mix(@syntax-text-color, @syntax-background-color, 99%), 3.6%);
  @current-line-highlight-border: fade(mix(@syntax-text-color, @syntax-background-color, 99%), 15%);

  atom-text-editor {
    .gutter {
      .line-number.cursor-line,
      .line-number.cursor-line-no-selection {
        // border-top: @current-line-highlight-border 1px solid;
        background-color: transparent;
        background-image:
            linear-gradient(to right, #3b3b3b, fade(#3b3b3b, 75%) 70%, fade(#3b3b3b, 0%))
            , linear-gradient(to bottom,
              @current-line-highlight-border,
              @current-line-highlight-border 3%,
              rgba(0, 0, 0, 0) 3%,
              rgba(0, 0, 0, 0) 97%,
              @current-line-highlight-border 97%,
              @current-line-highlight-border
            )
        ;
        background-size: cover;
        // @current-line-highlight;
      }
    }

    .line.cursor-line {
      background-image: linear-gradient(to bottom,
        @current-line-highlight,
        @current-line-highlight
      );
      // background-image: fadein(@current-line-highlight, 1%);
    }
    .is-focused {
      .line.cursor-line {
        background-image: linear-gradient(to bottom,
          @current-line-highlight-border,
          @current-line-highlight-border 3%,
          @current-line-highlight 3%,
          @current-line-highlight 97%,
          @current-line-highlight-border 97%,
          @current-line-highlight-border
        );
        // background-image: fadein(@current-line-highlight, 1%);
      }
    }
  }
}
.term3 .terminal {
  background-color: #222;
   > div {
    line-height: 1em;
  }
}

.terminal-view {
  .linux, .dracula {
    background-color: #343d46;
     > div {
      line-height: 1.1em;
    }
  }
}

tree-view-breadcrumb {
  padding-top: 1px;
  padding-bottom: 2px;
  overflow-x: hidden;
  .btn {
    // font-size: 10px;
    height: auto;
    line-height: inherit;
  }
}
tree-view-breadcrumb::-webkit-scrollbar {
  width: 2px;
  height: 2px;
}
tree-view-breadcrumb::-webkit-scrollbar-thumb {
  border: none;
}
// html, body { font-size: 13.5px; }

// Grayscale
@black:           #1d1f21; // 00
@light-black:     #282a2e; // 01
@very-dark-gray:  #373b41; // 02
@dark-gray:       #969896; // 03
@gray:            #b4b7b4; // 04
@light-gray:      #c5c8c6; // 05
@very-light-gray: #e0e0e0; // 06
@white:           #ffffff; // 07

// Colors
@red:             #c82829; // 08
@orange:          #f5871f; // 09
@light-orange:    #c99e00; // 0A
@green:           #718c00; // 0B
@cyan:            #3e999f; // 0C
@blue:            #4271ae; // 0D
@purple:          #8959a8; // 0E
@dark-red:        #a3685a; // 0F

.npm-icon::before {
  top: 3px;
  line-height: 12px;
}

.indent-guide-improved {
  background-color: mix(@gray, @light-gray, 50);
  &.indent-guide-stack {
    background-color: @dark-gray;
    &.indent-guide-active {
      background-color: mix(@dark-gray, @very-dark-gray, 50);
    }
  }
}

// TODO: move into adwaita-pro-ui
.theme-adwaita-pro-ui {
  .tab-bar {
    // TODO: make sure this is right from font size, etc.
    min-height: 36px;
    .tab {
      &:hover {
      }
    }
  }

  atom-pane-container {
    background-color: @app-background-color;
  }
}

@icon-border-radius: 2px;
@icon-border-color: rgba(0, 0, 0, 0.07);

.unity-ui-show-icons {
  &.file-icons-tab-pane-icon atom-pane .tab-bar .tab .title[data-path],
  .icon-file-text,
  .icon-file-media,
  .icon-book,
  .icon-file-binary {
    // &:before {
    //   text-shadow:
    //     @icon-border-color 1px 1px @icon-border-radius, @icon-border-color 1px -1px @icon-border-radius, @icon-border-color -1px -1px @icon-border-radius, @icon-border-color -1px 1px @icon-border-radius,
    //     @icon-border-color 1.4142px 0px @icon-border-radius, @icon-border-color 0px -1.4142px @icon-border-radius, @icon-border-color -1.4142px 0px @icon-border-radius, @icon-border-color 0px 1.4142px @icon-border-radius;
    // }
    &[data-name$=".js"]:before {
      content: "\f129";
    }
  }
}
.theme-unity-ui, .theme-unity-dark-ui, .theme-native-ui {
  .multirow-tabs.tab-bar {
    display: flex;
    .tab {
      flex-basis: 175px;
      max-width: none;
    }
  }
  // temp: for when i want to look at ignored items
  .status-ignored.status-ignored.status-ignored.status-ignored {
    &, & > .list-item, & > .list-item::before {
      color: #444;
    }
    &.list-item, .list-item {
      background-image: linear-gradient(135deg, #F7A550, #F7A550 4px, fade(#F7A550, 0%) 4px, rgba(0,0,0,0));
      // background-image: linear-gradient(to right, #3b3b3b, fade(#3b3b3b, 75%) 70%, fade(#3b3b3b, 0%));
      background-size: cover;
    }
  }
}

.theme-native-ui {
  status-bar {
    line-height: 1.3rem;
  }
  // don't remove project icon
  .project-root > .list-item > .icon-repo {
    &:before {
      display: inherit;
      padding-left: 2px;
      padding-right: 2px;
    }
  }

  // condense tree view
  .git-status-bullet() {
    &:after {
      margin-top: 6px;
    }
  }
  .list-item,
  .header.list-item {
    &.status-modified,
    &.status-added,
    &.status-removed {
      .git-status-bullet();
    }
  }
  .status-modified, .status-added {
    > .header.list-item {
      .git-status-bullet();
    }
  }

  .icon-file-text, .icon-file-binary, .icon-file-directory, .groovy-icon {
    &:before {
      line-height: 11px;
    }
  }
  .tree-view {
    .list-group, .list-tree {
      .selected:before {
        height: 18px;
      }
      .entry:not(.list-nested-item), .entry.list-nested-item > .list-item {
        line-height: 18px;
      }
    }
  }

  linter-bottom-tab {
    line-height: 21px;
    &:first-of-type {
      border-radius: 4px 0 0 4px;
    }
    &:nth-child(2) {
      border-radius: 0;
    }
  }
}
